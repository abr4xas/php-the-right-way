---
title:   PEAR
isChild: true
anchor:  pear
---

## PEAR {#pear_title}

Un veterano gestor de paquetes que algunos desarrolladores PHP disfrutan es [PEAR][1].
Se comporta de manera similar a Composer, pero tiene algunas diferencias notables.

PEAR requiere que cada paquete tenga una estructura específica, lo que significa que el autor del paquete debe prepararlo para uso con PEAR.
No es posible utilizar un proyecto que no haya sido preparado para funcionar con PEAR.

PEAR instala los paquetes globalmente, lo que significa que después de instalarlos una vez están disponibles para todos los proyectos en ese servidor. Esto puede ser bueno si muchos proyectos dependen del mismo paquete con la misma versión, pero puede llevar a problemas si surgen conflictos de versión entre dos proyectos.

### Instalación de PEAR

Puede instalar PEAR descargando el instalador `.phar` y ejecutándolo. La documentación de PEAR tiene
detalladas [instrucciones de instalación][2] para cada sistema operativo.

Si usas Linux, también puedes echar un vistazo al gestor de paquetes de tu distribución.
Debian y Ubuntu, por ejemplo, tienen un paquete apt `php-pear`.

### ¿Cómo instalar un paquete?

Si el paquete aparece en la [lista de paquetes de PEAR][3], puede instalarlo especificando el nombre oficial:

{% highlight console %}
pear install foo
{% endhighlight %}

Si el paquete se aloja en otro canal, deberá "descubrir" primero el canal y especificarlo también al instalar.
Consulta la [documentación sobre el uso de canales][4] para obtener más información sobre este tema.

* [Más información sobre PEAR][1]

### Manejo de dependencias PEAR con Composer

Si ya está utilizando [Composer][5] y desea instalar algún código PEAR también, puede utilizar Composer para manejar sus dependencias PEAR. Los repositorios PEAR ya no son soportados directamente por Composer versión 2, por lo que debes añadir manualmente
un repositorio para instalar paquetes PEAR:

{% highlight json %}
{
    "repositories": [
        {
            "type": "package",
            "package": {
                "name": "pear2/pear2-http-request",
                "version": "2.5.1",
                "dist": {
                    "url": "https://github.com/pear2/HTTP_Request/archive/refs/heads/master.zip",
                    "type": "zip"
                }
            }
        }
    ],
    "require": {
        "pear2/pear2-http-request": "*"
    },
    "autoload": {
        "psr-4": {"PEAR2\\HTTP\\": "vendor/pear2/pear2-http-request/src/HTTP/"}
    }
}
{% endhighlight %}

La primera sección `"repositorios"` se utilizará para que Composer sepa que debe "inicializar" (o "descubrir" en terminología PEAR)
el repositorio pear. Entonces la sección `require` prefijará el nombre del paquete así:

> pear-channel/package

El prefijo "pear" está codificado para evitar conflictos, ya que un canal pear puede ser el mismo que el nombre de proveedor de otro paquete, por ejemplo, entonces el nombre corto del canal (o URL completa) puede ser usado para referenciar en qué canal está el paquete.

Cuando se instala este código estará disponible en su directorio de proveedores y automáticamente disponible a través
del autocargador de Composer:

> vendor/pear2/pear2-http-request/pear2/HTTP/Request.php

Para utilizar este paquete PEAR simplemente haga referencia a él de la siguiente manera:

{% highlight php %}
<?php
require __DIR__ . '/vendor/autoload.php';

use PEAR2\HTTP\Request;

$request = new Request();
{% endhighlight %}

* [Más información sobre el uso de repositorios con Composer][6]


[1]: https://pear.php.net/
[2]: https://pear.php.net/manual/installation.getting.php
[3]: https://pear.php.net/packages.php
[4]: https://pear.php.net/manual/guide.users.commandline.channels.php
[5]: /#composer_and_packagist
[6]: https://getcomposer.org/doc/05-repositories.md
